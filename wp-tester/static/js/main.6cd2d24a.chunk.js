(this["webpackJsonpwp-tester"]=this["webpackJsonpwp-tester"]||[]).push([[0],{171:function(e,t,n){},173:function(e,t,n){},244:function(e,t,n){},250:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(34),r=n.n(s),i=n(27),l=n(126),o=n(28),u=n(8);var j=function(){return Object(u.jsx)("span",{children:"EditProfile"})},d=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{children:"Profile"})})},b=n(83),f=n(258),h=n(93),O=n(156),m=n(254),p=n(44),x=n(84);n(166),n(251),n(168);x.a.initializeApp({apiKey:"AIzaSyAzxCzTSK9f2j_pTvtBkg_VLnqpOWyNonU",authDomain:"checksystem-193c7.firebaseapp.com",databaseURL:"https://checksystem-193c7-default-rtdb.firebaseio.com",projectId:"checksystem-193c7",storageBucket:"checksystem-193c7.appspot.com",messagingSenderId:"300844364368",appId:"1:300844364368:web:58a8f1c3f3644a00b05755",measurementId:"G-90GHWMYCHQ"});var g=x.a.database(),v=x.a.storage(),S=x.a,I=x.a.auth(),N=n(101),y=n.n(N),k=(n(171),h.a.Option),w=function(){var e=Object(a.useState)("WpFile/"),t=Object(i.a)(e,1)[0],n=Object(a.useState)(0),c=Object(i.a)(n,2),s=(c[0],c[1]),r=Object(a.useState)(""),l=Object(i.a)(r,2),o=l[0],j=l[1],d=Object(a.useState)(null),x=Object(i.a)(d,2),N=x[0],w=x[1],F=Object(a.useState)([]),C=Object(i.a)(F,2),U=C[0],W=C[1],L=Object(a.useState)([]),A=Object(i.a)(L,2),D=A[0],E=A[1],P=Object(a.useState)(""),T=Object(i.a)(P,2),_=T[0],H=T[1],Y={beforeUpload:function(e){return e.name.endsWith(".hwp")?o?(w(null),!0):(O.b.error("Please choose standard file!"),m.a.LIST_IGNORE):(O.b.error("".concat(e.name," is not HWP file.")),m.a.LIST_IGNORE)},onChange:function(e){var t;if(console.log("info",e),(null===e||void 0===e||null===(t=e.event)||void 0===t?void 0:t.returnValue)&&!N){var n=e.fileList[0].originFileObj;w(n)}}},G=Object(a.useCallback)((function(e){var n=v.ref(t+I.currentUser.uid+"_"+e.name).put(e);console.log("Uploading..."),H("Uploading..."),n.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.log(e),console.log(e.message),H(e.message)}),(function(){v.ref(t).child(I.currentUser.uid+"_"+e.name).getDownloadURL().then((function(t){console.log("Checking..."),H("Checking...");var n=g.ref().push().key;R(I.currentUser.uid,n,o,t,I.currentUser.uid+"_"+e.name,"")}))}))}),[t,o]),R=function(e,t,n,a,c,s){S.database().ref("WpDb/41/ListPending/"+e+"/"+t).set({FileDestName:n,FileSrc:a,FileSrcName:c,InsertTime:y()().format("YYYY-MM-DD HH:mm:ss"),HtmlResult:s})};return Object(a.useEffect)((function(){var e=g.ref("WpDb/41/ListCompleted/"+I.currentUser.uid);e.on("value",(function(t){var n=t.val();if(null!=n){var a=Object.values(n);console.log("Completed."),H(a[0].HtmlResult),e.remove()}})),g.ref("WpDb/Series").on("value",(function(e){var t=e.val();if(null!=t){var n=Object.entries(t).reverse().map((function(e){return Object(u.jsx)(k,{value:e[0],children:e[1]},e[0])}));W(n)}})),g.ref("WpDb/41/Standard").on("value",(function(e){var t=e.val();if(null!=t){var n=Object.values(t).map((function(e){return Object(u.jsx)(k,{value:e.FileName,children:e.FileName},e.FileName)}));E(n)}}))}),[]),Object(a.useEffect)((function(){N&&G(N)}),[G,N]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"upload-file",children:[Object(u.jsxs)("div",{className:"upload-area",children:[Object(u.jsx)(h.a,{showSearch:!0,className:"select-series",placeholder:"Choose series",onChange:function(e){s(e)},children:U}),Object(u.jsx)(h.a,{showSearch:!0,className:"select-standard",placeholder:"Choose standard file",onChange:function(e){j(e)},children:D}),Object(u.jsx)(m.a,Object(b.a)(Object(b.a)({className:"upload-file"},Y),{},{maxCount:1,children:Object(u.jsx)(p.a,{icon:Object(u.jsx)(f.a,{}),children:"Upload HWP"})}))]}),Object(u.jsx)("div",{className:"html-result",dangerouslySetInnerHTML:{__html:_}})]})})},F=n(95),C=n.n(F),U=n(128),W=n(259),L=n(260),A=n(261),D=n(262),E=n(255),P=n(256),T=(n(135),n(173),function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],j=Object(a.useState)(!0),d=Object(i.a)(j,2),b=d[0],f=d[1],h=Object(a.useState)(""),O=Object(i.a)(h,2),m=O[0],x=O[1],g=function(e){var t=e.target,n=t.name,a=t.value;"email"===n?c(a):"password"===n&&o(a)},v=function(){var e=Object(U.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=7;break}return e.next=4,I.signInWithEmailAndPassword(n,l);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,I.createUserWithEmailAndPassword(n,l);case 9:a=e.sent;case 10:console.log(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),x(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(U.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t?n=new S.auth.GoogleAuthProvider:"github"===t&&(n=new S.auth.GithubAuthProvider),e.next=3,I.signInWithPopup(n);case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"login-form",children:[Object(u.jsxs)(E.a,{onFinish:v,children:[Object(u.jsx)(E.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(u.jsx)(P.a,{name:"email",prefix:Object(u.jsx)(W.a,{className:"site-form-item-icon"}),placeholder:"Email",value:n,onChange:g})}),Object(u.jsx)(E.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(u.jsx)(P.a,{name:"password",prefix:Object(u.jsx)(L.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",value:l,onChange:g})}),Object(u.jsxs)(E.a.Item,{children:[Object(u.jsx)(p.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:!1===b?"Create new account":"Log In"}),Object(u.jsx)(p.a,{onClick:function(){return f((function(e){return!e}))},className:"sign-up-link",children:b?"Sign up here":"Sign in here"})]})]}),Object(u.jsx)("span",{className:"text-error",children:m}),Object(u.jsx)("span",{children:"Or sign in with"}),Object(u.jsxs)("div",{className:"login-social",children:[Object(u.jsx)(p.a,{icon:Object(u.jsx)(A.a,{}),name:"google",onClick:function(){return N("google")},type:"primary",danger:!0,children:"Google"}),Object(u.jsx)(p.a,{icon:Object(u.jsx)(D.a,{}),name:"github",onClick:function(){return N("github")},children:"Github"})]})]})}),_=n(72),H=function(){var e=Object(o.f)(),t=function(){I.signOut().then((function(){e.push("/")})).catch((function(e){console.log(e)}))},n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],r=c[1];return Object(a.useEffect)((function(){g.ref("WpDb/UserRole").on("value",(function(e){var t=e.val();null!=t&&Object.values(t).forEach((function(e,t){I.currentUser.email===e&&r(!0)}))}))}),[]),Object(u.jsxs)(_.a,{onClick:function(n){"/logout"===n.key?t():e.push(n.key)},defaultSelectedKeys:["/"],mode:"inline",children:[Object(u.jsx)(_.a.Item,{children:"Upload File"},"/uploadfile"),s?Object(u.jsx)(_.a.Item,{children:"Upload File Standard"},"/uploadfilestandard"):null,Object(u.jsx)(_.a.Item,{children:Object(u.jsx)(p.a,{type:"primary",block:!0,children:"Logout"})},"/logout")]})},Y=n(257),G=n(253),R=(n(244),function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],j={beforeUpload:function(e){return e.name.includes(".hwp")||O.b.error("".concat(e.name," is not a hwp file")),!!e.name.includes(".hwp")||m.a.LIST_IGNORE},onChange:function(e){console.log("info",e);var t=e.fileList[0].originFileObj;c(t)}},d=function(e,t,n,a){S.database().ref("WpDb/41/Standard/"+e).set({FileSrc:t,FileName:n,InsertTime:y()().format("YYYY-MM-DD HH:mm:ss"),IsActive:a})},h=Object(a.useState)(),x=Object(i.a)(h,2),I=x[0],N=x[1];Object(a.useEffect)((function(){g.ref("WpDb/41/Standard").on("value",(function(e){var t=e.val();null!=t&&N(Object.values(t))}))}),[]);var k=[{title:"FileName",dataIndex:"FileName",key:"FileName",render:function(e,t){return Object(u.jsx)("span",{children:t.FileName})}},{title:"InsertTime",dataIndex:"InsertTime",key:"InsertTime",render:function(e,t){return Object(u.jsx)("span",{children:t.InsertTime})}},{title:"IsActive",dataIndex:"IsActive",key:"IsActive",render:function(e,t){return Object(u.jsx)("span",{children:t.IsActive?"Active":"In Active"})}},{title:"Action",key:"action",render:function(e,t){return Object(u.jsx)(Y.b,{size:"middle",children:Object(u.jsx)("a",{children:"Edit"})})}}];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"upload-file-standard",children:[Object(u.jsxs)("div",{className:"upload-area",children:[Object(u.jsx)(m.a,Object(b.a)(Object(b.a)({className:"upload"},j),{},{maxCount:1,children:Object(u.jsx)(p.a,{icon:Object(u.jsx)(f.a,{}),children:"Upload Standard File"})})),Object(u.jsx)(p.a,{className:"button",onClick:function(){var e=v.ref("WpFile/Standard/"+n.name).put(n);o("Uploading..."),e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.log(e),o(e.message)}),(function(){v.ref("WpFile/Standard/").child(n.name).getDownloadURL().then((function(e){o("Upload successfull!!!");var t=g.ref().push().key;d(t,e,n.name,!0)}))}))},children:"Upload"}),Object(u.jsx)("span",{children:l})]}),Object(u.jsx)(G.a,{columns:k,dataSource:I})]})})}),M=function(e){var t=e.isLoggedIn;return console.log(t?"login success":"login false"),Object(u.jsx)(l.a,{children:Object(u.jsx)(o.c,{children:!0===t?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"body",children:[Object(u.jsx)("div",{className:"menu",children:Object(u.jsx)(H,{})}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(w,{isLoggedIn:t})}),Object(u.jsx)(o.a,{exact:!0,path:"/profile",children:Object(u.jsx)(d,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/editprofile",children:Object(u.jsx)(j,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/uploadfile",children:Object(u.jsx)(w,{isLoggedIn:t})}),Object(u.jsx)(o.a,{exact:!0,path:"/uploadfilestandard",children:Object(u.jsx)(R,{})})]})]})}):Object(u.jsx)("div",{className:"auth",children:Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(T,{})})})})})};var z=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(a.useEffect)((function(){I.onAuthStateChanged((function(e){o(!!e),c(!0)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"header"}),n?Object(u.jsx)(M,{isLoggedIn:l}):"Initializing....",Object(u.jsxs)("footer",{className:"footer",children:["\xa9 ",(new Date).getFullYear()," We give you dream"]})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.6cd2d24a.chunk.js.map