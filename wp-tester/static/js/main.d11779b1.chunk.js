(this["webpackJsonpwp-tester"]=this["webpackJsonpwp-tester"]||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},253:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(35),s=a.n(c),r=a(26),i=a(137),o=a(29),l=a(8);var u,d,j=function(){return Object(l.jsx)("span",{children:"EditProfile"})},b=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("span",{children:"Profile"})})},p=a(87),f=a(269),h=a(265),m=a(263),O=a(95),g=a(47),x=a(267),v=a(138),S=(a(175),a(260),a(177),[{apiKey:"AIzaSyBczcCqGDOlJ_Kv7goXpRiBuFlkqq_aU0M",authDomain:"wptester2018.firebaseapp.com",databaseURL:"https://wptester2018-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wptester2018",storageBucket:"wptester2018.appspot.com",messagingSenderId:"603819967345",appId:"1:603819967345:web:94551dd02a9a37ffceecd0"},{apiKey:"AIzaSyBsKuX_BBaDLGhKXZ3DcyKutWmTbxtyDdA",authDomain:"wptester2019.firebaseapp.com",databaseURL:"https://wptester2019-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wptester2019",storageBucket:"wptester2019.appspot.com",messagingSenderId:"597058313669",appId:"1:597058313669:web:a2a8e707f7670b1e383fac",measurementId:"G-2VW02PE8WD"},{apiKey:"AIzaSyAFW5ihBLnnTej_WcCemyzVDVsKOcXHahQ",authDomain:"wptester2020-feb70.firebaseapp.com",databaseURL:"https://wptester2020-feb70-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wptester2020-feb70",storageBucket:"wptester2020-feb70.appspot.com",messagingSenderId:"453754621773",appId:"1:453754621773:web:d1628371f717cdeba23104",measurementId:"G-6FW07SDHQB"}]),I=v.a.initializeApp({apiKey:"AIzaSyAzxCzTSK9f2j_pTvtBkg_VLnqpOWyNonU",authDomain:"checksystem-193c7.firebaseapp.com",databaseURL:"https://checksystem-193c7-default-rtdb.firebaseio.com",projectId:"checksystem-193c7",storageBucket:"checksystem-193c7.appspot.com",messagingSenderId:"300844364368",appId:"1:300844364368:web:58a8f1c3f3644a00b05755",measurementId:"G-90GHWMYCHQ"}),y=I.database(),w=I.storage(),N=I.auth(),k=(u=0,d=S.length-1,Math.floor(Math.random()*(d-u+1))+u);console.log("index",k);var C=S[k],D=v.a.initializeApp(C,C.apiKey),F=D.database(),U=D.storage(),W=a(104),L=a.n(W),P=function(e){var t=e.options,a=e.defaultValue,n=e.onChange,c=e.className;return Object(l.jsx)(O.a,{className:c,placeholder:"Choose series",onChange:n,defaultValue:a,options:t})},T=(a(181),h.a.TabPane),E=function(){var e,t=Object(n.useState)("WpFile/".concat("41","/User/")),a=Object(r.a)(t,1)[0],c=Object(n.useState)(null),s=Object(r.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)("41"),d=Object(r.a)(u,2),j=d[0],b=d[1],v=Object(n.useState)([]),S=Object(r.a)(v,2),I=S[0],w=S[1],k=Object(n.useState)(""),C=Object(r.a)(k,2),D=C[0],W=C[1],E=Object(n.useState)([]),_=Object(r.a)(E,2),A=_[0],B=_[1],G=Object(n.useState)({}),R=Object(r.a)(G,2),z=R[0],K=R[1],H=Object(n.useState)(""),Y=Object(r.a)(H,2),M=Y[0],V=Y[1],J={beforeUpload:function(e){return e.name.endsWith(".hwp")?D?(o(null),!1):(M.error("Please choose standard file!"),m.a.LIST_IGNORE):(M.error("".concat(e.name," is not HWP file.")),m.a.LIST_IGNORE)},onChange:function(e){var t=e.fileList.length?e.fileList[0].originFileObj:null;o(t)}},q=function(e){var t=U.ref(a+N.currentUser.uid+"_"+e.name).put(e);console.log("Uploading..."),V("Uploading..."),t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.log(e),console.log(e.message),V(e.message)}),(function(){U.ref(a).child(N.currentUser.uid+"_"+e.name).getDownloadURL().then((function(t){console.log("Checking..."),V("Checking...");var a=F.ref().push().key;X(N.currentUser.uid,a,D,t,N.currentUser.uid+"_"+e.name,"")}))}))},X=function(e,t,a,n,c,s){F.ref("WpDb/".concat(j,"/ListPending/")+e+"/"+t).set({FileDestName:a,FileSrc:n,FileSrcName:c,InsertTime:L()().format("YYYY-MM-DD HH:mm:ss"),ResultJson:s})};function Q(e,t){var a=e;return 0!==t&&(a+=" <".concat(t,">")),a}return Object(n.useEffect)((function(){var e=F.ref("WpDb/".concat(j,"/ListCompleted/")+N.currentUser.uid);e.on("value",(function(t){var a=t.val();if(null!=a){var n=Object.values(a)[0];console.log("Completed.");try{var c=JSON.parse(n.ResultJson);V(""),K(c),console.log(c)}catch(s){V(n.ResultJson),K({})}e.remove()}})),y.ref("WpDb/".concat(j,"/Standard")).on("value",(function(e){var t=e.val();if(null!=t){var a=Object.values(t).map((function(e){return{value:e.FileName,label:e.FileName}}));B(a),W(a.length?a[0].value:"")}}))}),[j]),Object(n.useEffect)((function(){y.ref("WpDb/Series").on("value",(function(e){var t=e.val();if(null!=t){var a=Object.entries(t).reverse().map((function(e){return{value:e[0],label:e[1]}}));w(a)}}))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"upload-file",children:[Object(l.jsxs)("div",{className:"upload-area",children:[Object(l.jsx)(P,{className:"select-series",options:I,defaultValue:"41",onChange:function(e){b(e)}}),Object(l.jsx)(O.a,{showSearch:!0,className:"select-standard",placeholder:"Choose standard file",value:D,options:A,onChange:function(e){W(e)}}),Object(l.jsx)(m.a,Object(p.a)(Object(p.a)({className:"select"},J),{},{maxCount:1,children:Object(l.jsx)(g.a,{icon:Object(l.jsx)(f.a,{}),children:"Select HWP"})})),Object(l.jsx)(g.a,{disabled:!i,className:"upload",onClick:function(){q(i)},children:"Upload"})]}),Object(l.jsxs)("div",{className:"tab-area",children:[M&&Object(l.jsx)(x.a,{message:M}),(null===z||void 0===z?void 0:z.Point)&&Object(l.jsx)("h3",{children:"Point: ".concat(null===z||void 0===z?void 0:z.Point)}),Object(l.jsx)(h.a,{size:"small",children:null===z||void 0===z||null===(e=z.Groups)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(T,{tab:Q(e.Description,e.Point),children:Object(l.jsx)(h.a,{children:e.Items.map((function(e){return Object(l.jsx)(T,{tab:Q(e.Description,e.Point),children:Object(l.jsx)("div",{className:"html-result",dangerouslySetInnerHTML:{__html:e.Content}})},e.Name)}))})},e.Name)}))})]})]})})},_=a(97),A=a.n(_),B=a(140),G=a(270),R=a(271),z=a(272),K=a(273),H=a(264),Y=a(266),M=(a(146),a(182),function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(!0),j=Object(r.a)(d,2),b=j[0],p=j[1],f=Object(n.useState)(""),h=Object(r.a)(f,2),m=h[0],O=h[1],x=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&u(n)},v=function(){var e=Object(B.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=7;break}return e.next=4,N.signInWithEmailAndPassword(a,o);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,N.createUserWithEmailAndPassword(a,o);case 9:n=e.sent;case 10:console.log(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),O(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(B.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t?a=new I.auth.GoogleAuthProvider:"github"===t&&(a=new I.auth.GithubAuthProvider),e.next=3,N.signInWithPopup(a);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"login-form",children:[Object(l.jsxs)(H.a,{onFinish:v,children:[Object(l.jsx)(H.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(l.jsx)(Y.a,{name:"email",prefix:Object(l.jsx)(G.a,{className:"site-form-item-icon"}),placeholder:"Email",value:a,onChange:x})}),Object(l.jsx)(H.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(l.jsx)(Y.a,{name:"password",prefix:Object(l.jsx)(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",value:o,onChange:x})}),Object(l.jsxs)(H.a.Item,{children:[Object(l.jsx)(g.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:!1===b?"Create new account":"Log In"}),Object(l.jsx)(g.a,{onClick:function(){return p((function(e){return!e}))},className:"sign-up-link",children:b?"Sign up here":"Sign in here"})]})]}),Object(l.jsx)("span",{className:"text-error",children:m}),Object(l.jsx)("span",{children:"Or sign in with"}),Object(l.jsxs)("div",{className:"login-social",children:[Object(l.jsx)(g.a,{icon:Object(l.jsx)(z.a,{}),name:"google",onClick:function(){return S("google")},type:"primary",danger:!0,children:"Google"}),Object(l.jsx)(g.a,{icon:Object(l.jsx)(K.a,{}),name:"github",onClick:function(){return S("github")},children:"Github"})]})]})}),V=a(75),J=function(){var e=Object(o.f)(),t=function(){N.signOut().then((function(){e.push("/")})).catch((function(e){console.log(e)}))},a=Object(n.useState)(!1),c=Object(r.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){y.ref("WpDb/UserRole").on("value",(function(e){var t=e.val();null!=t&&Object.values(t).forEach((function(e,t){N.currentUser.email===e&&i(!0)}))}))}),[]),Object(l.jsxs)(V.a,{onClick:function(a){"/logout"===a.key?t():e.push(a.key)},defaultSelectedKeys:["/"],mode:"inline",children:[Object(l.jsx)(V.a.Item,{children:"Upload File"},"/uploadfile"),s?Object(l.jsx)(V.a.Item,{children:"Upload File Standard"},"/uploadfilestandard"):null,Object(l.jsx)(V.a.Item,{children:Object(l.jsx)(g.a,{type:"primary",block:!0,children:"Logout"})},"/logout")]})},q=a(168),X=a(268),Q=a(262),Z=(a(253),O.a.Option,function(){var e=Object(n.useState)("41"),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(null),j=Object(r.a)(d,2),b=j[0],h=j[1],O=Object(n.useState)(""),x=Object(r.a)(O,2),v=x[0],S=x[1],N=Object(n.useState)(),k=Object(r.a)(N,2),C=k[0],D=k[1],F={beforeUpload:function(e){return e.name.includes(".hwp")||q.b.error("".concat(e.name," is not a hwp file")),!!e.name.includes(".hwp")||m.a.LIST_IGNORE},onChange:function(e){console.log("info",e);var t=e.fileList[0].originFileObj;h(t)}},U=function(e,t,n){I.database().ref("WpDb/".concat(a,"/Standard/")+e).set({FileSrc:t,FileName:n,InsertTime:L()().format("YYYY-MM-DD HH:mm:ss")})};Object(n.useEffect)((function(){y.ref("WpDb/Series").on("value",(function(e){var t=e.val();if(null!=t){var a=Object.entries(t).reverse().map((function(e){return{value:e[0],label:e[1]}}));u(a)}}))}),[]),Object(n.useEffect)((function(){y.ref("WpDb/".concat(a,"/Standard")).on("value",(function(e){var t=e.val();D(t?Object.values(t):[])}))}),[a]);var W=[{title:"FileName",dataIndex:"FileName",key:"FileName",render:function(e,t){return Object(l.jsx)("span",{children:t.FileName})}},{title:"InsertTime",dataIndex:"InsertTime",key:"InsertTime",render:function(e,t){return Object(l.jsx)("span",{children:t.InsertTime})}},{title:"Action",key:"action",render:function(e,t){return Object(l.jsx)(X.b,{size:"middle",children:Object(l.jsx)("a",{children:"Edit"})})}}];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"upload-file-standard",children:[Object(l.jsxs)("div",{className:"upload-area",children:[Object(l.jsx)(P,{className:"select-series",options:o,defaultValue:"41",onChange:function(e){c(e)}}),Object(l.jsx)(m.a,Object(p.a)(Object(p.a)({className:"select"},F),{},{maxCount:1,children:Object(l.jsx)(g.a,{icon:Object(l.jsx)(f.a,{}),children:"Select Standard File"})})),Object(l.jsx)(g.a,{className:"upload",onClick:function(){var e=w.ref("WpFile/".concat(a,"/Standard/")+b.name).put(b);S("Uploading..."),e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.log(e),S(e.message)}),(function(){w.ref("WpFile/".concat(a,"/Standard/")).child(b.name).getDownloadURL().then((function(e){S("Upload successfull.");var t=y.ref().push().key;U(t,e,b.name)}))}))},children:"Upload"}),Object(l.jsx)("span",{children:v})]}),Object(l.jsx)(Q.a,{columns:W,dataSource:C})]})})}),$=function(e){var t=e.isLoggedIn;return console.log(t?"login success":"login false"),Object(l.jsx)(i.a,{children:Object(l.jsx)(o.c,{children:!0===t?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"body",children:[Object(l.jsx)("div",{className:"menu",children:Object(l.jsx)(J,{})}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(E,{isLoggedIn:t})}),Object(l.jsx)(o.a,{exact:!0,path:"/profile",children:Object(l.jsx)(b,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/editprofile",children:Object(l.jsx)(j,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/uploadfile",children:Object(l.jsx)(E,{isLoggedIn:t})}),Object(l.jsx)(o.a,{exact:!0,path:"/uploadfilestandard",children:Object(l.jsx)(Z,{})})]})]})}):Object(l.jsx)("div",{className:"auth",children:Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(M,{})})})})})};var ee=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){N.onAuthStateChanged((function(e){u(!!e),c(!0)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"header"}),a?Object(l.jsx)($,{isLoggedIn:o}):"Initializing....",Object(l.jsxs)("footer",{className:"footer",children:["\xa9 ",(new Date).getFullYear()," We give you dream"]})]})};s.a.render(Object(l.jsx)(ee,{}),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.d11779b1.chunk.js.map