(this["webpackJsonpwp-tester"]=this["webpackJsonpwp-tester"]||[]).push([[0],{181:function(e,t,a){},182:function(e,t,a){},253:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(35),s=a.n(c),r=a(26),i=a(137),o=a(29),l=a(8);var u,j,d=function(){return Object(l.jsx)("span",{children:"EditProfile"})},b=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("span",{children:"Profile"})})},f=a(87),p=a(269),m=a(265),h=a(263),O=a(95),g=a(47),x=a(267),v=a(138),S=(a(175),a(260),a(177),[{apiKey:"AIzaSyAzxCzTSK9f2j_pTvtBkg_VLnqpOWyNonU",authDomain:"checksystem-193c7.firebaseapp.com",databaseURL:"https://checksystem-193c7-default-rtdb.firebaseio.com",projectId:"checksystem-193c7",storageBucket:"checksystem-193c7.appspot.com",messagingSenderId:"300844364368",appId:"1:300844364368:web:58a8f1c3f3644a00b05755",measurementId:"G-90GHWMYCHQ"},{apiKey:"AIzaSyBczcCqGDOlJ_Kv7goXpRiBuFlkqq_aU0M",authDomain:"wptester2018.firebaseapp.com",databaseURL:"https://wptester2018-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wptester2018",storageBucket:"wptester2018.appspot.com",messagingSenderId:"603819967345",appId:"1:603819967345:web:94551dd02a9a37ffceecd0"}]),y=v.a.initializeApp({apiKey:"AIzaSyAzxCzTSK9f2j_pTvtBkg_VLnqpOWyNonU",authDomain:"checksystem-193c7.firebaseapp.com",databaseURL:"https://checksystem-193c7-default-rtdb.firebaseio.com",projectId:"checksystem-193c7",storageBucket:"checksystem-193c7.appspot.com",messagingSenderId:"300844364368",appId:"1:300844364368:web:58a8f1c3f3644a00b05755",measurementId:"G-90GHWMYCHQ"}),I=y.database(),N=y.storage(),k=y.auth(),w=(u=0,j=S.length-1,Math.floor(Math.random()*(j-u+1))+u);console.log("index",w);var C=S[w],U=v.a.initializeApp(C,C.apiKey),F=U.database(),D=U.storage(),L=a(104),W=a.n(L),T=function(e){var t=e.options,a=e.defaultValue,n=e.onChange,c=e.className;return Object(l.jsx)(O.a,{className:c,placeholder:"Choose series",onChange:n,defaultValue:a,options:t})},E=(a(181),m.a.TabPane),P=function(){var e,t=Object(n.useState)("WpFile/".concat("41","/User/")),a=Object(r.a)(t,1)[0],c=Object(n.useState)(null),s=Object(r.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)("41"),j=Object(r.a)(u,2),d=j[0],b=j[1],v=Object(n.useState)([]),S=Object(r.a)(v,2),y=S[0],N=S[1],w=Object(n.useState)(""),C=Object(r.a)(w,2),U=C[0],L=C[1],P=Object(n.useState)([]),_=Object(r.a)(P,2),z=_[0],A=_[1],G=Object(n.useState)({}),R=Object(r.a)(G,2),H=R[0],Y=R[1],B=Object(n.useState)(""),M=Object(r.a)(B,2),K=M[0],q=M[1],J={beforeUpload:function(e){return e.name.endsWith(".hwp")?U?(o(null),!0):(K.error("Please choose standard file!"),h.a.LIST_IGNORE):(K.error("".concat(e.name," is not HWP file.")),h.a.LIST_IGNORE)},onChange:function(e){var t=e.fileList.length?e.fileList[0].originFileObj:null;o(t)}},V=function(e){var t=D.ref(a+k.currentUser.uid+"_"+e.name).put(e);console.log("Uploading..."),q("Uploading..."),t.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.log(e),console.log(e.message),q(e.message)}),(function(){D.ref(a).child(k.currentUser.uid+"_"+e.name).getDownloadURL().then((function(t){console.log("Checking..."),q("Checking...");var a=F.ref().push().key;Q(k.currentUser.uid,a,U,t,k.currentUser.uid+"_"+e.name,"")}))}))},Q=function(e,t,a,n,c,s){F.ref("WpDb/".concat(d,"/ListPending/")+e+"/"+t).set({FileDestName:a,FileSrc:n,FileSrcName:c,InsertTime:W()().format("YYYY-MM-DD HH:mm:ss"),ResultJson:s})};return Object(n.useEffect)((function(){var e=F.ref("WpDb/".concat(d,"/ListCompleted/")+k.currentUser.uid);e.on("value",(function(t){var a=t.val();if(null!=a){var n=Object.values(a)[0];console.log("Completed.");try{var c=JSON.parse(n.ResultJson);q(""),Y(c)}catch(s){q(n.ResultJson),Y({})}e.remove()}})),I.ref("WpDb/".concat(d,"/Standard")).on("value",(function(e){var t=e.val();if(null!=t){var a=Object.values(t).map((function(e){return{value:e.FileName,label:e.FileName}}));A(a),L(a.length?a[0].value:"")}}))}),[d]),Object(n.useEffect)((function(){I.ref("WpDb/Series").on("value",(function(e){var t=e.val();if(null!=t){var a=Object.entries(t).reverse().map((function(e){return{value:e[0],label:e[1]}}));N(a)}}))}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"upload-file",children:[Object(l.jsxs)("div",{className:"upload-area",children:[Object(l.jsx)(T,{className:"select-series",options:y,defaultValue:"41",onChange:function(e){b(e)}}),Object(l.jsx)(O.a,{showSearch:!0,className:"select-standard",placeholder:"Choose standard file",value:U,options:z,onChange:function(e){L(e)}}),Object(l.jsx)(h.a,Object(f.a)(Object(f.a)({className:"select"},J),{},{maxCount:1,children:Object(l.jsx)(g.a,{icon:Object(l.jsx)(p.a,{}),children:"Select HWP"})})),Object(l.jsx)(g.a,{disabled:!i,className:"upload",onClick:function(){V(i)},children:"Upload"})]}),Object(l.jsxs)("div",{className:"tab-area",children:[K&&Object(l.jsx)(x.a,{message:K}),Object(l.jsx)(m.a,{size:"small",children:null===H||void 0===H||null===(e=H.Groups)||void 0===e?void 0:e.map((function(e){return Object(l.jsx)(E,{tab:e.Description,children:Object(l.jsx)(m.a,{children:e.Items.map((function(e){return Object(l.jsx)(E,{tab:e.Description,children:Object(l.jsx)("div",{className:"html-result",dangerouslySetInnerHTML:{__html:e.Content}})},e.Name)}))})},e.Name)}))})]})]})})},_=a(97),z=a.n(_),A=a(140),G=a(270),R=a(271),H=a(272),Y=a(273),B=a(264),M=a(266),K=(a(146),a(182),function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(r.a)(s,2),o=i[0],u=i[1],j=Object(n.useState)(!0),d=Object(r.a)(j,2),b=d[0],f=d[1],p=Object(n.useState)(""),m=Object(r.a)(p,2),h=m[0],O=m[1],x=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?c(n):"password"===a&&u(n)},v=function(){var e=Object(A.a)(z.a.mark((function e(t){var n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=7;break}return e.next=4,k.signInWithEmailAndPassword(a,o);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,k.createUserWithEmailAndPassword(a,o);case 9:n=e.sent;case 10:console.log(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),O(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(A.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t?a=new y.auth.GoogleAuthProvider:"github"===t&&(a=new y.auth.GithubAuthProvider),e.next=3,k.signInWithPopup(a);case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"login-form",children:[Object(l.jsxs)(B.a,{onFinish:v,children:[Object(l.jsx)(B.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(l.jsx)(M.a,{name:"email",prefix:Object(l.jsx)(G.a,{className:"site-form-item-icon"}),placeholder:"Email",value:a,onChange:x})}),Object(l.jsx)(B.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(l.jsx)(M.a,{name:"password",prefix:Object(l.jsx)(R.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",value:o,onChange:x})}),Object(l.jsxs)(B.a.Item,{children:[Object(l.jsx)(g.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:!1===b?"Create new account":"Log In"}),Object(l.jsx)(g.a,{onClick:function(){return f((function(e){return!e}))},className:"sign-up-link",children:b?"Sign up here":"Sign in here"})]})]}),Object(l.jsx)("span",{className:"text-error",children:h}),Object(l.jsx)("span",{children:"Or sign in with"}),Object(l.jsxs)("div",{className:"login-social",children:[Object(l.jsx)(g.a,{icon:Object(l.jsx)(H.a,{}),name:"google",onClick:function(){return S("google")},type:"primary",danger:!0,children:"Google"}),Object(l.jsx)(g.a,{icon:Object(l.jsx)(Y.a,{}),name:"github",onClick:function(){return S("github")},children:"Github"})]})]})}),q=a(75),J=function(){var e=Object(o.f)(),t=function(){k.signOut().then((function(){e.push("/")})).catch((function(e){console.log(e)}))},a=Object(n.useState)(!1),c=Object(r.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){I.ref("WpDb/UserRole").on("value",(function(e){var t=e.val();null!=t&&Object.values(t).forEach((function(e,t){k.currentUser.email===e&&i(!0)}))}))}),[]),Object(l.jsxs)(q.a,{onClick:function(a){"/logout"===a.key?t():e.push(a.key)},defaultSelectedKeys:["/"],mode:"inline",children:[Object(l.jsx)(q.a.Item,{children:"Upload File"},"/uploadfile"),s?Object(l.jsx)(q.a.Item,{children:"Upload File Standard"},"/uploadfilestandard"):null,Object(l.jsx)(q.a.Item,{children:Object(l.jsx)(g.a,{type:"primary",block:!0,children:"Logout"})},"/logout")]})},V=a(168),Q=a(268),X=a(262),Z=(a(253),O.a.Option,function(){var e=Object(n.useState)("41"),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),i=Object(r.a)(s,2),o=i[0],u=i[1],j=Object(n.useState)(null),d=Object(r.a)(j,2),b=d[0],m=d[1],O=Object(n.useState)(""),x=Object(r.a)(O,2),v=x[0],S=x[1],k=Object(n.useState)(),w=Object(r.a)(k,2),C=w[0],U=w[1],F={beforeUpload:function(e){return e.name.includes(".hwp")||V.b.error("".concat(e.name," is not a hwp file")),!!e.name.includes(".hwp")||h.a.LIST_IGNORE},onChange:function(e){console.log("info",e);var t=e.fileList[0].originFileObj;m(t)}},D=function(e,t,n){y.database().ref("WpDb/".concat(a,"/Standard/")+e).set({FileSrc:t,FileName:n,InsertTime:W()().format("YYYY-MM-DD HH:mm:ss")})};Object(n.useEffect)((function(){I.ref("WpDb/Series").on("value",(function(e){var t=e.val();if(null!=t){var a=Object.entries(t).reverse().map((function(e){return{value:e[0],label:e[1]}}));u(a)}}))}),[]),Object(n.useEffect)((function(){I.ref("WpDb/".concat(a,"/Standard")).on("value",(function(e){var t=e.val();U(t?Object.values(t):[])}))}),[a]);var L=[{title:"FileName",dataIndex:"FileName",key:"FileName",render:function(e,t){return Object(l.jsx)("span",{children:t.FileName})}},{title:"InsertTime",dataIndex:"InsertTime",key:"InsertTime",render:function(e,t){return Object(l.jsx)("span",{children:t.InsertTime})}},{title:"Action",key:"action",render:function(e,t){return Object(l.jsx)(Q.b,{size:"middle",children:Object(l.jsx)("a",{children:"Edit"})})}}];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"upload-file-standard",children:[Object(l.jsxs)("div",{className:"upload-area",children:[Object(l.jsx)(T,{className:"select-series",options:o,defaultValue:"41",onChange:function(e){c(e)}}),Object(l.jsx)(h.a,Object(f.a)(Object(f.a)({className:"select"},F),{},{maxCount:1,children:Object(l.jsx)(g.a,{icon:Object(l.jsx)(p.a,{}),children:"Select Standard File"})})),Object(l.jsx)(g.a,{className:"upload",onClick:function(){var e=N.ref("WpFile/".concat(a,"/Standard/")+b.name).put(b);S("Uploading..."),e.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.log(e),S(e.message)}),(function(){N.ref("WpFile/".concat(a,"/Standard/")).child(b.name).getDownloadURL().then((function(e){S("Upload successfull.");var t=I.ref().push().key;D(t,e,b.name)}))}))},children:"Upload"}),Object(l.jsx)("span",{children:v})]}),Object(l.jsx)(X.a,{columns:L,dataSource:C})]})})}),$=function(e){var t=e.isLoggedIn;return console.log(t?"login success":"login false"),Object(l.jsx)(i.a,{children:Object(l.jsx)(o.c,{children:!0===t?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"body",children:[Object(l.jsx)("div",{className:"menu",children:Object(l.jsx)(J,{})}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(P,{isLoggedIn:t})}),Object(l.jsx)(o.a,{exact:!0,path:"/profile",children:Object(l.jsx)(b,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/editprofile",children:Object(l.jsx)(d,{})}),Object(l.jsx)(o.a,{exact:!0,path:"/uploadfile",children:Object(l.jsx)(P,{isLoggedIn:t})}),Object(l.jsx)(o.a,{exact:!0,path:"/uploadfilestandard",children:Object(l.jsx)(Z,{})})]})]})}):Object(l.jsx)("div",{className:"auth",children:Object(l.jsx)(o.a,{exact:!0,path:"/",children:Object(l.jsx)(K,{})})})})})};var ee=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){k.onAuthStateChanged((function(e){u(!!e),c(!0)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"header"}),a?Object(l.jsx)($,{isLoggedIn:o}):"Initializing....",Object(l.jsxs)("footer",{className:"footer",children:["\xa9 ",(new Date).getFullYear()," We give you dream"]})]})};s.a.render(Object(l.jsx)(ee,{}),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.2f88ac31.chunk.js.map